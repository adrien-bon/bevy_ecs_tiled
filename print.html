<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>bevy_ecs_tiled Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">bevy_ecs_tiled Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p><a href="https://github.com/adrien-bon/bevy_ecs_tiled"><code>bevy_ecs_tiled</code></a> is a <a href="https://bevyengine.org/">Bevy</a> plugin for working with 2D tilemaps created using the <a href="https://www.mapeditor.org/">Tiled map editor</a>.</p>
<p>It leverages the official <a href="https://github.com/mapeditor/rs-tiled">Tiled Rust bindings</a> for parsing and loading Tiled map files, and uses the <a href="https://github.com/StarArawn/bevy_ecs_tilemap"><code>bevy_ecs_tilemap</code> crate</a> for efficient rendering.</p>
<p>This plugin aims to provide a simple and ergonomic workflow for integrating Tiled into your Bevy 2D games, letting you focus on game design while handling the technical details of map loading, rendering, and entity management.</p>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<ul>
<li><strong>Comprehensive Map Support:</strong><br />
Load orthogonal, isometric, or hexagonal maps, with finite or infinite layers, using either external or embedded tilesets, atlases, or multiple images.</li>
<li><strong>Rich Tiled Feature Integration:</strong><br />
Supports animated tiles, image layers, tile objects, and <a href="https://doc.mapeditor.org/en/stable/manual/worlds/">Tiled worlds</a> for multi-map projects.</li>
<li><strong>Entity-Based Architecture:</strong><br />
Every Tiled item (layer, tile, object, etc.) is represented as a Bevy entity, organized in a clear hierarchy: layers are children of the map entity, tiles and objects are children of their respective layers. <code>Visibility</code> and <code>Transform</code> are automatically propagated.</li>
<li><strong>Flexible Map Lifecycle:</strong><br />
Control how maps are spawned and despawned. Use Bevy events and observers to customize scene setup or react when a map is loaded and ready.</li>
<li><strong>Automatic Physics Integration:</strong><br />
Automatically spawn <a href="https://rapier.rs/">Rapier</a> or <a href="https://github.com/Jondolf/avian">Avian</a> physics colliders for tiles and objects, with support for custom backends.</li>
<li><strong>Custom Properties as Components:</strong><br />
Use <a href="https://doc.mapeditor.org/en/stable/manual/custom-properties/">Tiled custom properties</a> to automatically insert your own components on objects, tiles, or layers, enabling powerful data-driven workflows.</li>
<li><strong>Hot-Reloading:</strong><br />
Edit your maps in Tiled and see updates reflected live in your Bevy game, without recompiling or restarting.</li>
</ul>
<hr />
<p><strong>Disclaimer:</strong><br />
Both this book and the whole crate have been heavily inspired by the <a href="https://github.com/Trouv/bevy_ecs_ldtk"><code>bevy_ecs_ldtk</code> crate</a>, which is essentially the equivalent of <code>bevy_ecs_tiled</code> but for the <a href="https://ldtk.io/">LDTK</a> map editor.<br />
A big thank you to the authors and contributors of <code>bevy_ecs_ldtk</code> for their inspiration and ideas!</p>
<hr />
<h2 id="purpose-of-this-book"><a class="header" href="#purpose-of-this-book">Purpose of this Book</a></h2>
<p>This book is designed to help you understand how <a href="https://github.com/adrien-bon/bevy_ecs_tiled"><code>bevy_ecs_tiled</code></a> works, what you can achieve with it, and how to use it effectively in your projects.</p>
<p>You’ll find:</p>
<ul>
<li>High-level concepts and design explanations</li>
<li>Step-by-step tutorials and practical guides</li>
<li>Migration guides for upgrading between versions</li>
<li>Miscellaneous tips and advanced topics</li>
</ul>
<p>If you need detailed API documentation, please refer to the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/">bevy_ecs_tiled API reference</a>.<br />
The <a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/examples/README.md">examples directory</a> is also a great place to see the plugin in action.</p>
<blockquote>
<p><strong>Note:</strong><br />
This book assumes you already have some familiarity with <a href="https://bevyengine.org/">Bevy</a> and the <a href="https://www.mapeditor.org/">Tiled</a> map editor.<br />
If you’re new to these tools, check out their official documentation and the <a href="misc/useful-links.html">useful links section</a> for recommended resources.</p>
</blockquote>
<hr />
<h2 id="book-structure"><a class="header" href="#book-structure">Book Structure</a></h2>
<p>This book is organized into several sections:</p>
<ul>
<li><strong>Design &amp; Explanation:</strong><br />
Learn how the plugin works internally and the reasoning behind key technical choices.</li>
<li><strong>How-To Guides:</strong><br />
In-depth tutorials covering specific features and workflows.</li>
<li><strong>Migration Guides:</strong><br />
Step-by-step instructions for upgrading between major versions.</li>
<li><strong>Miscellaneous:</strong><br />
Additional topics and tips that don’t fit elsewhere.</li>
</ul>
<hr />
<p>Happy reading, and enjoy building your games with Bevy and Tiled!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="faq"><a class="header" href="#faq">FAQ</a></h1>
<h2 id="whats-the-current-status-of-the-crate"><a class="header" href="#whats-the-current-status-of-the-crate">What’s the current status of the crate?</a></h2>
<p>The crate is already quite usable, but it is still under active development.</p>
<p>You may encounter bugs, missing features, or breaking changes as the API evolves.<br />
However, the project follows <a href="https://semver.org/">semantic versioning</a> and provides a migration guide for each breaking change (for example, when a new Bevy release is supported).</p>
<p>I try to list all known limitations and bugs of the crate as <a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues">Github issues</a>.</p>
<hr />
<h2 id="what-kind-of-maps-are-supported"><a class="header" href="#what-kind-of-maps-are-supported">What kind of maps are supported?</a></h2>
<p>Nearly all map types from Tiled are supported:</p>
<ul>
<li>Orthogonal</li>
<li>"Flat-top" hexagonal</li>
<li>"Pointy-top" hexagonal</li>
<li>"Diamond" isometric</li>
</ul>
<p><strong>Not supported:</strong><br />
Isometric "staggered" maps (<a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues/31">see issue #31</a>).</p>
<p>While we support isometric maps, we currently <a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues/129">do not support isometric tilesets</a>.
But you can still use an isometric map with an orthogonal tileset.</p>
<hr />
<h2 id="i-want-a-huge-map-for-my-game-is-it-a-problem"><a class="header" href="#i-want-a-huge-map-for-my-game-is-it-a-problem">I want a huge map for my game, is it a problem?</a></h2>
<p>If you have performance issues with a single large map, consider using a <a href="https://doc.mapeditor.org/en/stable/manual/worlds/">Tiled world</a>.<br />
A Tiled world is a collection of multiple maps, and you can control which ones are loaded at any given time.</p>
<p>To spawn a Tiled world, use the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/world/struct.TiledWorld.html"><code>TiledWorld</code></a> component after loading a <code>.world</code> asset:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn startup(
    mut commands: Commands,
    asset_server: Res&lt;AssetServer&gt;,
) {
    // Spawn a new entity with the TiledWorld component
    commands.spawn(
        TiledWorld(asset_server.load("demo.world"))
    );
}
<span class="boring">}</span></code></pre></pre>
<p>You can customize world loading with the same components and events / observers as for maps, and use the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/world/chunking/struct.TiledWorldChunking.html"><code>TiledWorldChunking</code></a> component to control map chunking.</p>
<hr />
<h2 id="im-using-an-isometric-map-and-it-seems-all-messed-up"><a class="header" href="#im-using-an-isometric-map-and-it-seems-all-messed-up">I’m using an isometric map and it seems all messed up!</a></h2>
<ul>
<li>Make sure you are actually using a "diamond" isometric map, not a "staggered" one (which is not supported).</li>
<li>For isometric maps, you may need to tweak the <a href="https://docs.rs/bevy_ecs_tilemap/latest/bevy_ecs_tilemap/map/struct.TilemapRenderSettings.html"><code>TilemapRenderSettings</code></a> component from <code>bevy_ecs_tilemap</code> to enable Y-sorting and adjust the chunk size.</li>
<li>Make sure you are using <a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues/129">an orthogonal tileset and not an isometric one</a>.</li>
</ul>
<p>See the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/main/examples/orientation_isometric.rs#L34">isometric maps example</a> for more information.</p>
<hr />
<h2 id="how-do-i-add-physics-to-my-game"><a class="header" href="#how-do-i-add-physics-to-my-game">How do I add physics to my game?</a></h2>
<p>You can automatically spawn physics colliders on tiles or objects using either the <a href="https://github.com/Jondolf/avian">Avian</a> or <a href="https://github.com/dimforge/bevy_rapier">Rapier</a> physics backends.</p>
<p>All you need to do is add the appropriate plugin to your app—<code>bevy_ecs_tiled</code> handles the rest.</p>
<p>You can control which objects or tiles receive colliders based on their name and by using Tiled’s built-in collision editor.
See the <a href="guides/physics.html">dedicated physics guide</a> for details.</p>
<hr />
<h2 id="how-can-i-update-my-bevy-entities-directly-from-tiled"><a class="header" href="#how-can-i-update-my-bevy-entities-directly-from-tiled">How can I update my Bevy entities directly from Tiled?</a></h2>
<p>Suppose you’re building a top-down RPG and want to assign properties (like movement cost or walkability) to each tile.</p>
<p>You can declare in your code some <code>struct</code> or <code>enum</code> to describe these properties then use <a href="https://doc.mapeditor.org/en/stable/manual/custom-properties/">Tiled custom properties</a> editor to attach these properties to Tiled elements.
The crate will automatically insert the corresponding Bevy <code>Component</code> on the Tiled entity when you load the map, making it available for your game logic.</p>
<p>See the <a href="guides/properties.html">custom properties guide</a> for more information.</p>
<hr />
<h2 id="how-do-i-enable-map-hot-reload"><a class="header" href="#how-do-i-enable-map-hot-reload">How do I enable map hot-reload?</a></h2>
<p>Enable the Bevy <code>file_watcher</code> feature in your project.<br />
With this enabled, <code>bevy_ecs_tiled</code> will automatically reload a map or world whenever it is updated in Tiled.</p>
<hr />
<h2 id="how-do-i-access-tiled-raw-data"><a class="header" href="#how-do-i-access-tiled-raw-data">How do I access Tiled "raw" data?</a></h2>
<p>Sometimes you may need to access the underlying Tiled data, such as a <code>tiled::ObjectData</code> or <code>tiled::TileData</code>.</p>
<p>You have two main options:</p>
<ul>
<li>Listen to <a href="./design/map_events.html">map loading events</a> and use <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.TiledEvent.html"><code>TiledEvent&lt;E&gt;</code></a> helper methods to access Tiled data.</li>
<li>Retrieve the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/storage/struct.TiledMapStorage.html"><code>TiledMapStorage</code></a> component from your map entity to get the mapping between Bevy entities and their corresponding Tiled data.</li>
</ul>
<p>These two options are demonstrated in <a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/examples">examples</a> and <a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/src/debug">debug plugins</a>.</p>
<hr />
<h2 id="i-found-a-bug--feature-x-is-missing--how-do-i-do-y"><a class="header" href="#i-found-a-bug--feature-x-is-missing--how-do-i-do-y">I found a bug! / Feature 'X' is missing! / How do I do 'Y'?</a></h2>
<p>This crate is still a work in progress, so you may encounter bugs, missing features, or have questions about usage.</p>
<ul>
<li>Check the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues">open issues</a> to see if your problem is already reported.</li>
<li>If not, please open a new issue! I try to address every issue as quickly as possible.</li>
</ul>
<p><strong>Contributions are very welcome!</strong><br />
If you’d like to contribute, please read the <a href="misc/contributing.html">contribution guide</a> and feel free to open a PR!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-use-tiled"><a class="header" href="#why-use-tiled">Why use Tiled?</a></h1>
<p><a href="https://www.mapeditor.org/">Tiled</a> may feel a bit outdated in terms of "look and feel," especially compared to more modern map editors like <a href="https://ldtk.io/">LDTK</a>.<br />
However, <a href="https://www.mapeditor.org/">Tiled</a> offers <strong>a wealth of features</strong> that make it a compelling choice for many projects.</p>
<p>If we compare <a href="https://www.mapeditor.org/">Tiled</a> with <a href="https://ldtk.io/">LDTK</a>, both editors provide powerful capabilities such as:</p>
<ul>
<li>Auto-tiling</li>
<li>Adding gameplay information to map tiles and objects (custom properties)</li>
<li>Support for world layouts (multi-map projects)</li>
</ul>
<p>But <a href="https://www.mapeditor.org/">Tiled</a> also offers several unique advantages:</p>
<ul>
<li>Native support for both isometric and hexagonal maps (including "pointy-top" and "flat-top" hexes)</li>
<li>Built-in support for animated tiles</li>
</ul>
<p>For my own needs—specifically, working with hexagonal maps—<a href="https://www.mapeditor.org/">Tiled</a> was the obvious choice!</p>
<p>However, if you only need orthogonal maps, you might want to try <a href="https://ldtk.io/">LDTK</a>, especially in combination with the <a href="https://github.com/Trouv/bevy_ecs_ldtk"><code>bevy_ecs_ldtk</code> crate</a>.<br />
Of course, <a href="https://www.mapeditor.org/">Tiled</a> remains a robust and versatile option for a wide range of 2D games.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="entities-hierarchy-and-marker-components"><a class="header" href="#entities-hierarchy-and-marker-components">Entities Hierarchy and Marker Components</a></h1>
<p>When a map is loaded, it spawns <strong>many</strong> entities: for the map, for layers, for tiles, for objects, for colliders, and more.<br />
To keep things organized, these entities are structured in a <a href="https://bevy-cheatbook.github.io/fundamentals/hierarchy.html">parent/child hierarchy</a>, and every entity has an associated marker component to help with queries and system targeting.</p>
<p>Using a hierarchy also enables inheritance of certain components from top-level entities down the tree.<br />
For example, if you change the <a href="https://docs.rs/bevy/latest/bevy/render/view/visibility/enum.Visibility.html"><code>Visibility</code></a> of a layer entity, it will automatically apply to all entities below it in the hierarchy, such as tiles or objects.</p>
<hr />
<h2 id="hierarchy-overview"><a class="header" href="#hierarchy-overview">Hierarchy Overview</a></h2>
<h3 id="world"><a class="header" href="#world">World</a></h3>
<p>When loading a <code>.world</code> asset, you get a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/world/struct.TiledWorld.html"><code>TiledWorld</code></a> entity at the top of the tree, which holds a handle to the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/world/asset/struct.TiledWorldAsset.html"><code>TiledWorldAsset</code></a> corresponding to your <code>.world</code> asset, along with all settings that apply to it.</p>
<h3 id="map"><a class="header" href="#map">Map</a></h3>
<p>When loading a <code>.tmx</code> asset, you get a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMap.html"><code>TiledMap</code></a> entity at the top of the tree, which holds a handle to the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/asset/struct.TiledMapAsset.html"><code>TiledMapAsset</code></a> corresponding to your <code>.tmx</code> asset, plus all map-level settings.</p>
<p>If working with a Tiled world, you will have several maps, each as a child of the top-level world entity.</p>
<p>Note that all map-level settings can also be added to the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/world/struct.TiledWorld.html"><code>TiledWorld</code></a> entity as they will be propagated down to the underlying maps.</p>
<h3 id="layers"><a class="header" href="#layers">Layers</a></h3>
<p>Below the map, you have the layers.<br />
Layer entities are identified by the generic <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/layer/enum.TiledLayer.html"><code>TiledLayer</code></a> component whose value can help distinguish between layer types.</p>
<h3 id="objects"><a class="header" href="#objects">Objects</a></h3>
<p>Objects are direct children of their parent <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/layer/enum.TiledLayer.html#variant.Objects"><code>TiledLayer::Object</code></a>.<br />
They are identified by the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/object/enum.TiledObject.html"><code>TiledObject</code></a> marker.</p>
<p>Note that in case of a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/object/enum.TiledObject.html#variant.Tile"><code>TiledObject::Tile</code></a>, the object entity will have another child entity with a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/object/struct.TiledObjectVisualOf.html"><code>TiledObjectVisualOf</code></a> marker component, holding the actual visual of the object: a <code>Sprite</code> and eventually a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/animation/struct.TiledAnimation.html"><code>TiledAnimation</code></a>.</p>
<h3 id="tiles"><a class="header" href="#tiles">Tiles</a></h3>
<p>Tiles have a slightly more complex structure:</p>
<ul>
<li>Below each <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/layer/enum.TiledLayer.html#variant.Tiles"><code>TiledLayer::Tiles</code></a>, there is one <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/tile/struct.TiledTilemap.html"><code>TiledTilemap</code></a> per tileset used in the map.</li>
<li>Below these, you find the actual <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/tile/struct.TiledTile.html"><code>TiledTile</code></a> entities, each corresponding to a tile in the layer for a given tileset.</li>
</ul>
<h3 id="physics-colliders"><a class="header" href="#physics-colliders">Physics Colliders</a></h3>
<p>At the bottom of the hierarchy, you find physics colliders.<br />
They are spawned as children of their "source" (either a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/layer/enum.TiledLayer.html#variant.Tiles"><code>TiledLayer::Tiles</code></a> or a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/object/enum.TiledObject.html"><code>TiledObject</code></a>) and can be identified using the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/collider/enum.TiledColliderOrigin.html"><code>TiledColliderOrigin</code></a> marker component.</p>
<p>Entities responsible for spawning a physics collider will have a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/collider/struct.TiledColliders.html"><code>TiledColliders</code></a> component containing a list of attached colliders.</p>
<hr />
<h2 id="transform-and-visibility-propagation"><a class="header" href="#transform-and-visibility-propagation">Transform and Visibility Propagation</a></h2>
<p>Bevy automatically propagates <a href="https://docs.rs/bevy/latest/bevy/transform/components/struct.Transform.html"><code>Transform</code></a> and <a href="https://docs.rs/bevy/latest/bevy/render/view/visibility/enum.Visibility.html"><code>Visibility</code></a> components down the entity hierarchy.</p>
<p><strong>In practice:</strong><br />
If you change one of these components for a top-level entity (e.g., a layer), it will propagate down and apply to all child entities. For example:</p>
<ul>
<li>Adding <code>Visibility::Hidden</code> to an object layer will hide all objects in that layer.</li>
<li>Moving an object layer will also move all objects it contains.</li>
</ul>
<p><strong>Special case for tiles:</strong><br />
Tiles are not rendered as individual entities, but as part of a "chunk" of several tiles for performance reasons.<br />
Each individual tile entity does <strong>not</strong> have its own <a href="https://docs.rs/bevy/latest/bevy/transform/components/struct.Transform.html"><code>Transform</code></a> or <a href="https://docs.rs/bevy/latest/bevy/render/view/visibility/enum.Visibility.html"><code>Visibility</code></a> component.<br />
Instead, these components are propagated down to the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/tile/struct.TiledTilemap.html"><code>TiledTilemap</code></a>, and <code>bevy_ecs_tilemap</code> handles updating the corresponding tile chunks.</p>
<blockquote>
<p><strong>Important:</strong><br />
Even though you technically could, you should <strong>not</strong> add <a href="https://docs.rs/bevy/latest/bevy/transform/components/struct.Transform.html"><code>Transform</code></a> or <a href="https://docs.rs/bevy/latest/bevy/render/view/visibility/enum.Visibility.html"><code>Visibility</code></a> components to individual tile entities:</p>
<ul>
<li>It will not have the intended effect—everything is handled at the tilemap level.</li>
<li>It may hurt performance significantly.</li>
</ul>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="z-ordering"><a class="header" href="#z-ordering">Z-ordering</a></h1>
<p>In 2D games, the Z-axis determines the rendering order: elements with a higher Z value appear in front of those with a lower Z value.<br />
For a deeper dive into Bevy's coordinate system and Z-ordering, see <a href="https://bevy-cheatbook.github.io/fundamentals/coords.html">the Bevy cheatbook</a>.</p>
<hr />
<h2 id="layer-ordering-in-tiled-and-bevy"><a class="header" href="#layer-ordering-in-tiled-and-bevy">Layer Ordering in Tiled and Bevy</a></h2>
<p>When designing your map in Tiled, you expect that layers higher in the stack visually cover those below.<br />
This is especially important for isometric maps, which often use multiple tile layers for proper visual stacking.</p>
<p>To reproduce this behavior in Bevy, <code>bevy_ecs_tiled</code> assigns an incremental Z offset to each layer in the hierarchy.</p>
<p>If we call this offset <code>OFFSET</code>:</p>
<ul>
<li>The topmost layer (in Tiled) will have a Z transform of <code>0</code></li>
<li>The next layer down will have a Z transform of <code>-1 × OFFSET</code></li>
<li>The next one: <code>-2 × OFFSET</code></li>
<li>And so on...</li>
</ul>
<p>By default, <code>OFFSET</code> is set to <code>+100</code>.<br />
You can adjust this value by adding or modifying the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMapLayerZOffset.html"><code>TiledMapLayerZOffset</code></a> component on your map entity.</p>
<blockquote>
<p><strong>Tip:</strong><br />
<code>bevy_ecs_tilemap</code> also applies a small Z offset to each chunk for correct rendering.<br />
If your layer offset is too small, you may see unexpected rendering order issues.<br />
A larger offset (like the default <code>100</code>) helps avoid this.</p>
</blockquote>
<hr />
<h2 id="objects-on-a-layer"><a class="header" href="#objects-on-a-layer">Objects on a Layer</a></h2>
<p>Objects on a given layer inherit the Z offset of their parent layer, but each object is given a small additional offset to avoid <a href="https://en.wikipedia.org/wiki/Z-fighting">"Z-fighting"</a>—a flickering effect that occurs when two objects share the same Z value.</p>
<ul>
<li>Each object receives a unique, small Z offset relative to its parent layer.</li>
<li>This ensures that overlapping objects are rendered in a stable order.</li>
</ul>
<p>If you need precise control over the Z position of specific objects (for example, to implement custom sorting or to ensure a particular object always appears on top), you can:</p>
<ul>
<li>Listen to <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/dev/examples/map_events.rs">map events</a> and manually adjust the Z offset of your objects after they are spawned.</li>
<li>Use your own logic to set the Z value based on object properties or gameplay needs.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map-loading-events"><a class="header" href="#map-loading-events">Map Loading Events</a></h1>
<p>When loading a map or a world with <code>bevy_ecs_tiled</code>, you receive events that both notify you about the loading progress and allow you to customize how your map or world is handled in your game.</p>
<p>These events are extremely useful for:</p>
<ul>
<li>Running custom logic when a map, layer, object, or tile is loaded</li>
<li>Accessing or modifying entities as soon as they are available</li>
<li>Integrating with other systems (e.g., spawning a player, setting up triggers, etc.)</li>
</ul>
<hr />
<h2 id="tiledevente"><a class="header" href="#tiledevente"><code>TiledEvent&lt;E&gt;</code></a></h2>
<p>All <code>bevy_ecs_tiled</code> events are encapsulated in the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.TiledEvent.html"><code>TiledEvent&lt;E&gt;</code></a> structure.
This provides more context for each event, including the origin of each particular event <code>E</code> and helper methods to access Tiled data.</p>
<p>For example, an event related to an object will contain not only information to identify the object itself, but also the layer and the map containing it.</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn handle_event(
    mut object_events: EventReader&lt;TiledEvent&lt;ObjectCreated&gt;&gt;,
) {
    // Even though we receive an event for a Tiled object,
    // we can retrieve information about the Tiled map
    for e in object_events.read() {
        let object_entity = e.origin;
        if let Some(map_asset) = e.get_map_asset() {
            info!("Received TiledEvent&lt;ObjectCreated&gt; for: '{:?}'", map_asset);
        }
    }
}
<span class="boring">}</span></code></pre></pre>
<hr />
<h2 id="list-of-map-and-world-events"><a class="header" href="#list-of-map-and-world-events">List of Map and World Events</a></h2>
<p>There are six main events:</p>
<ul>
<li><strong>For maps and worlds:</strong>
<ul>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.MapCreated.html"><code>TiledEvent&lt;MapCreated&gt;</code></a>:<br />
Emitted once a map has finished loading. Contains information about the map entity.<br />
(If loading a world, this is called after the world event.)</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.LayerCreated.html"><code>TiledEvent&lt;LayerCreated&gt;</code></a>:<br />
Emitted for each layer after the map is loaded. Contains information about the layer entity.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.TilemapCreated.html"><code>TiledEvent&lt;TilemapCreated&gt;</code></a>:<br />
Emitted for each tilemap, for every tile layer, after the map is loaded. Contains information about the tilemap entity.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.TileCreated.html"><code>TiledEvent&lt;TileCreated&gt;</code></a>:<br />
Emitted for each tile after the map is loaded. Contains information about the tile entity. Note this event is only fired for tiles using custom properties.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.ObjectCreated.html"><code>TiledEvent&lt;ObjectCreated&gt;</code></a>:<br />
Emitted for each object after the map is loaded. Contains information about the object entity.</li>
</ul>
</li>
<li><strong>For worlds only:</strong>
<ul>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.WorldCreated.html"><code>TiledEvent&lt;WorldCreated&gt;</code></a>:<br />
Emitted once the world has finished loading. Contains information about the world entity.</li>
</ul>
</li>
</ul>
<p>All these events are sent <strong>after</strong> the map or world is fully loaded and all components (including those from user properties) have been inserted.</p>
<hr />
<h2 id="how-to-use-map-events"><a class="header" href="#how-to-use-map-events">How to Use Map Events</a></h2>
<p>You can listen to these events in two ways:</p>
<h3 id="1-using-buffered-events"><a class="header" href="#1-using-buffered-events">1. Using Buffered Events</a></h3>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn handle_map_event(
    mut map_events: EventReader&lt;TiledEvent&lt;MapCreated&gt;&gt;,
    map_query: Query&lt;&amp;Name, With&lt;TiledMap&gt;&gt;,
) {
    for e in map_events.read() {
        if let Some(map_entity) = e.get_map_entity() {
            if let Ok(name) = map_query.get(map_entity) {
                info!("=&gt; Received TiledMapCreated event for map '{}'", name);
            }
        }
    }
}
<span class="boring">}</span></code></pre></pre>
<h3 id="2-using-observers"><a class="header" href="#2-using-observers">2. Using Observers</a></h3>
<p>Observers can be attached directly to map or world entities.<br />
This is useful for "inline" logic, such as spawning a player when a map is ready:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn startup(mut commands: Commands, asset_server: Res&lt;AssetServer&gt;) {
    commands
        // Spawn a map and attach an observer on it.
        .spawn(TiledMap(
            asset_server.load("maps/orthogonal/finite.tmx"),
        ))
        // Add an "in-line" observer to detect when the map has finished loading
        .observe(|trigger: Trigger&lt;TiledEvent&lt;MapCreated&gt;&gt;, map_query: Query&lt;&amp;Name, With&lt;TiledMap&gt;&gt;| {
            if let Some(map_entity) = e.get_map_entity() {
                if let Ok(name) = map_query.get(map_entity) {
                    info!("=&gt; Observer TiledMapCreated was triggered for map '{}'", name);
                }
            }
        });
}
<span class="boring">}</span></code></pre></pre>
<hr />
<h2 id="when-are-events-sent"><a class="header" href="#when-are-events-sent">When Are Events Sent?</a></h2>
<p>All these events are sent <strong>after</strong> the map or world is actually loaded and their components have been inserted, including those coming from user properties.<br />
This means you can safely query for components and child entities in your event handlers.</p>
<hr />
<h2 id="dedicated-example"><a class="header" href="#dedicated-example">Dedicated Example</a></h2>
<p>A <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/main/examples/map_events.rs">dedicated example</a> is available to demonstrate how to use these events in practice.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting started</a></h1>
<p>Add the required dependencies to your <code>Cargo.toml</code> file:</p>
<pre><code class="language-toml">[dependencies]
bevy = "0.16"
bevy_ecs_tiled = "0.9"
</code></pre>
<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
<p>To get started, add the plugin to your app and spawn a map entity.
All you need to do is spawn a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMap.html"><code>TiledMap</code></a> component with the map asset you want to load (e.g., your <code>map.tmx</code> file).
Make sure this map asset, along with any required dependencies (such as images or tilesets), is present in your local assets folder (by default, <code>./assets/</code>).</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn main() {
    App::new()
        // Add Bevy's default plugins
        .add_plugins(DefaultPlugins)
        // Add the bevy_ecs_tiled plugin
        // bevy_ecs_tilemap::TilemapPlugin will be added automatically if needed
        .add_plugins(TiledPlugin::default())
        // Add your startup system and run the app
        .add_systems(Startup, startup)
        .run();
}

fn startup(
    mut commands: Commands,
    asset_server: Res&lt;AssetServer&gt;,
) {
    // Spawn a 2D camera
    commands.spawn(Camera2d);

    // Load a map asset and retrieve its handle
    let map_handle: Handle&lt;TiledMapAsset&gt; = asset_server.load("map.tmx");

    // Spawn a new entity with the TiledMap component
    commands.spawn(TiledMap(map_handle));
}</code></pre></pre>
<p>This simple example will load a map using the default settings.</p>
<h3 id="customizing-map-loading"><a class="header" href="#customizing-map-loading">Customizing Map Loading</a></h3>
<p>You can customize how the map is loaded by listening to specific <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.TiledEvent.html"><code>TiledEvent</code></a> or adding various components to the map entity, such as:</p>
<ul>
<li><a href="https://docs.rs/bevy_ecs_tilemap/latest/bevy_ecs_tilemap/anchor/enum.TilemapAnchor.html"><code>TilemapAnchor</code></a> — Controls the anchor point of the tilemap.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMapLayerZOffset.html"><code>TiledMapLayerZOffset</code></a> — Adjusts the Z offset between map layers.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMapImageRepeatMargin.html"><code>TiledMapImageRepeatMargin</code></a> — Control the margin for repeated images.</li>
<li><a href="https://docs.rs/bevy_ecs_tilemap/latest/bevy_ecs_tilemap/map/struct.TilemapRenderSettings.html"><code>TilemapRenderSettings</code></a> — Configures rendering options.</li>
<li><a href="https://docs.rs/bevy/latest/bevy/transform/components/struct.Transform.html"><code>Transform</code></a> — Sets the position, rotation, and scale of the map.</li>
<li><a href="https://docs.rs/bevy/latest/bevy/render/view/visibility/enum.Visibility.html"><code>Visibility</code></a> — Controls the visibility of the map entity.</li>
</ul>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn spawn_map(
    mut commands: Commands,
    asset_server: Res&lt;AssetServer&gt;,
) {
    commands
        // Load a map and set its anchor point to the
        // center instead of the default bottom-left
        .spawn((
            TiledMap(asset_server.load("map.tmx")),
            TilemapAnchor::Center,
        ))
        // Add an "in-line" observer to detect when
        // the map has finished loading
        .observe(
            |trigger: Trigger&lt;TiledEvent&lt;MapCreated&gt;&gt;,
             assets: Res&lt;Assets&lt;TiledMapAsset&gt;&gt;,
             query: Query&lt;(&amp;Name, &amp;TiledMapStorage), With&lt;TiledMap&gt;&gt;| {
                // We can access the map components via a regular query
                let Ok((name, storage)) = query.get(trigger.event().origin) else {
                    return;
                };
                info!("=&gt; Observer TiledMapCreated was triggered for map '{name}'");

                // Or directly the underneath raw tiled::Map data
                let Some(map) = trigger.event().get_map(&amp;assets) else {
                    return;
                };
                info!("Loaded map: {:?}", map);

                // Additionally, we can access Tiled items using the TiledMapStorage
                // component: we can retrieve Tiled items entity and access
                // their own components with another query (not shown here).
                // This can be useful if you want for instance to create a resource
                // based upon tiles or objects data but make it available only when
                // the map is actually spawned.
                for (id, entity) in storage.objects() {
                    info!(
                        "(map) Object ID {:?} was spawned as entity {:?}",
                        id, entity
                    );
                }
            }
        );
}
<span class="boring">}</span></code></pre></pre>
<h3 id="more-examples"><a class="header" href="#more-examples">More Examples</a></h3>
<p>For more advanced use cases, such as loading worlds, chunking, custom properties, or integrating with physics, see the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/examples/README.md">examples directory</a> in the repository.</p>
<p>You can also refer to the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/">API documentation</a> for details on all available components and configuration options.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="spawn--despawn--reload-a-map"><a class="header" href="#spawn--despawn--reload-a-map">Spawn / Despawn / Reload a Map</a></h1>
<p>These aspects are also covered in the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/main/examples/map_reload.rs">dedicated example</a>.</p>
<hr />
<h2 id="spawning-a-map"><a class="header" href="#spawning-a-map">Spawning a Map</a></h2>
<p>Spawning a map is a two-step process:</p>
<ol>
<li><strong>Load the map asset</strong> using Bevy's <code>AssetServer</code>.</li>
<li><strong>Spawn a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMap.html"><code>TiledMap</code></a></strong> containing a reference to this map asset.</li>
</ol>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn spawn_map(
    mut commands: Commands,
    asset_server: Res&lt;AssetServer&gt;
) {
    // Load the map asset
    let map_handle: Handle&lt;TiledMapAsset&gt; = asset_server.load("map.tmx");

    // Spawn the map entity with default settings
    commands.spawn(TiledMap(map_handle));
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p><strong>Tip:</strong><br />
You can load maps at startup or at any time during your game.<br />
There is no restriction on the number of maps loaded or spawned simultaneously.</p>
</blockquote>
<hr />
<h2 id="despawning-a-map"><a class="header" href="#despawning-a-map">Despawning a Map</a></h2>
<p>To despawn a map, simply remove its top-level entity.<br />
All child entities (layers, tiles, objects, etc.) will be automatically despawned.</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn despawn_map(
    mut commands: Commands,
    map_query: Query&lt;Entity, With&lt;TiledMap&gt;&gt;,
) {
    // Iterate over all map entities
    for map in map_query.iter() {
        // Despawn the map entity and all its children
        commands.entity(map).despawn();
    }
}
<span class="boring">}</span></code></pre></pre>
<hr />
<h2 id="respawning--reloading-a-map"><a class="header" href="#respawning--reloading-a-map">Respawning / Reloading a Map</a></h2>
<p>If you want to reload or respawn a map, you can despawn it and spawn it again as shown above.<br />
However, there is a more ergonomic way: insert the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.RespawnTiledMap.html"><code>RespawnTiledMap</code></a> component on the map entity.</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn respawn_map(
    mut commands: Commands,
    map_query: Query&lt;Entity, With&lt;TiledMap&gt;&gt;,
) {
    if let Ok(entity) = map_query.single() {
        commands.entity(entity).insert(RespawnTiledMap);
    }
}
<span class="boring">}</span></code></pre></pre>
<p>This will reload the same map asset, despawning and respawning all child entities (layers, tiles, objects, etc.), while preserving the top-level map entity and its components.</p>
<ul>
<li>Any changes you made to child entities (e.g., tile color, object position) will be reset to their original state.</li>
<li>Components on the map entity itself (such as <a href="https://docs.rs/bevy_ecs_tilemap/latest/bevy_ecs_tilemap/map/struct.TilemapRenderSettings.html"><code>TilemapRenderSettings</code></a>, <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMapLayerZOffset.html"><code>TiledMapLayerZOffset</code></a>, or <a href="https://docs.rs/bevy/latest/bevy/transform/components/struct.Transform.html"><code>Transform</code></a>) will be <strong>preserved</strong>.</li>
</ul>
<p>This is useful for implementing level respawn or resetting a map to its initial state.</p>
<hr />
<h2 id="loading-a-new-map-over-an-existing-one"><a class="header" href="#loading-a-new-map-over-an-existing-one">Loading a New Map Over an Existing One</a></h2>
<p>To replace the current map with a different one, simply insert a new <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMap.html"><code>TiledMap</code></a> on the existing map entity:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn handle_reload(
    mut commands: Commands,
    asset_server: Res&lt;AssetServer&gt;,
    map_query: Query&lt;Entity, With&lt;TiledMap&gt;&gt;,
) {
    if let Ok(entity) = map_query.single() {
        commands.entity(entity)
            .insert(
                TiledMap(asset_server.load("other_map.tmx"))
            );
    }
}
<span class="boring">}</span></code></pre></pre>
<ul>
<li>If you insert the same map handle, it is equivalent to inserting the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.RespawnTiledMap.html"><code>RespawnTiledMap</code></a> component.</li>
</ul>
<hr />
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<ul>
<li><strong>Spawn</strong>: Load the map asset and spawn a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMap.html"><code>TiledMap</code></a>.</li>
<li><strong>Despawn</strong>: Remove the map entity (children are cleaned up automatically).</li>
<li><strong>Respawn/Reload</strong>: Insert <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.RespawnTiledMap.html"><code>RespawnTiledMap</code></a> or a new <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/struct.TiledMap.html"><code>TiledMap</code></a> to reload or swap maps efficiently.</li>
</ul>
<p>For more advanced usage, see the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/examples/map_reload.rs">examples</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add-physics-colliders"><a class="header" href="#add-physics-colliders">Add Physics Colliders</a></h1>
<p>Tiled allows you to add objects to your map—either directly on an object layer or attached to a tile.<br />
<code>bevy_ecs_tiled</code> can use these objects to automatically spawn physics colliders when loading the map.</p>
<p>Two physics engines are supported out of the box:</p>
<ul>
<li><a href="https://github.com/Jondolf/avian"><code>avian</code></a></li>
<li><a href="https://github.com/dimforge/bevy_rapier"><code>rapier</code></a></li>
</ul>
<p>Both are well-integrated and offer similar features in the context of <code>bevy_ecs_tiled</code>. You can use them as-is, customize their behavior, or implement your own backend.</p>
<hr />
<h2 id="creating-collider-objects-in-tiled"><a class="header" href="#creating-collider-objects-in-tiled">Creating Collider Objects in Tiled</a></h2>
<p>To spawn colliders, you need to define objects in your map:</p>
<ul>
<li><strong>Objects on an object layer:</strong><br />
These are the standard objects you place in Tiled on an object layer.</li>
<li><strong>Objects attached to a tile:</strong><br />
Edit your tileset and use Tiled's <a href="https://doc.mapeditor.org/en/stable/manual/editing-tilesets/#tile-collision-editor">built-in collision editor</a> to define collision shapes for tiles.</li>
</ul>
<p>Both types of objects are supported and will result in physics colliders being spawned in your game, based on their shapes.</p>
<hr />
<h2 id="automatically-spawning-colliders"><a class="header" href="#automatically-spawning-colliders">Automatically Spawning Colliders</a></h2>
<p>To automatically spawn colliders from Tiled objects, you need to:</p>
<ol>
<li><strong>Enable the appropriate feature in your <code>Cargo.toml</code>:</strong><br />
Either <code>avian</code> or <code>rapier</code>, depending on your backend choice.<br />
You can also enable only the <code>physics</code> feature and provide your own backend (see below).</li>
</ol>
<p><strong>Example: Using the Avian backend</strong></p>
<pre><code class="language-toml">[dependencies]
bevy = "0.16"
bevy_ecs_tiled = { version = "0.9", features = ["avian"] }
</code></pre>
<blockquote>
<p><strong>Note:</strong><br />
You may need to adjust <code>bevy</code> and <code>bevy_ecs_tiled</code> versions.</p>
</blockquote>
<ol start="2">
<li><strong>Add the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/struct.TiledPhysicsPlugin.html"><code>TiledPhysicsPlugin&lt;T&gt;</code></a></strong><br />
with the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/trait.TiledPhysicsBackend.html"><code>TiledPhysicsBackend</code></a> of your choice.</li>
</ol>
<p><strong>Example: Using the Avian backend</strong></p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use avian2d::prelude::*;
use bevy_ecs_tiled::prelude::*;

// You must enable the 'avian' feature for bevy_ecs_tiled

fn main() {
    App::new()
        // Load bevy_ecs_tiled main plugin
        .add_plugins(TiledPlugin::default())
        // Load bevy_ecs_tiled physics plugin (select Avian backend)
        .add_plugins(TiledPhysicsPlugin::&lt;TiledPhysicsAvianBackend&gt;::default())
        // Load Avian main plugin
        .add_plugins(PhysicsPlugins::default().with_length_unit(100.0))
        // Add your systems and run the app!
        .add_systems(Startup, startup)
        .run();
}

fn startup(mut commands: Commands, asset_server: Res&lt;AssetServer&gt;) {
    commands.spawn(Camera2d);
    commands.spawn(TiledMap(asset_server.load("map.tmx")));
}</code></pre></pre>
<p>Colliders will be spawned for every object or tiles colliders in your map automatically.</p>
<p>We provide two <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/trait.TiledPhysicsBackend.html"><code>TiledPhysicsBackend</code></a> that can be used out of the box:</p>
<ul>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/avian/enum.TiledPhysicsAvianBackend.html"><code>TiledPhysicsAvianBackend</code></a>: for the Avian 2D physics engine</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/rapier/enum.TiledPhysicsRapierBackend.html"><code>TiledPhysicsRapierBackend</code></a>: for the Rapier 2D physics engine</li>
</ul>
<blockquote>
<p><strong>Note:</strong><br />
You can actually use several physics backends at the same time if you register the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/struct.TiledPhysicsPlugin.html"><code>TiledPhysicsPlugin&lt;T&gt;</code></a> plugin multiple times, but with different <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/trait.TiledPhysicsBackend.html"><code>TiledPhysicsBackend</code></a>.</p>
</blockquote>
<hr />
<h2 id="filtering-which-objects-get-colliders"><a class="header" href="#filtering-which-objects-get-colliders">Filtering Which Objects Get Colliders</a></h2>
<p>By default, colliders are spawned for <strong>all</strong> objects (regular objects and tile colliders).<br />
If you want more control, use the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/settings/struct.TiledPhysicsSettings.html"><code>TiledPhysicsSettings</code></a> component.</p>
<p>This component lets you filter which objects/layers should have colliders, based on their names.</p>
<p><strong>Example: Only spawn colliders for certain objects/layers</strong></p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use avian2d::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn startup(mut commands: Commands, asset_server: Res&lt;AssetServer&gt;) {
    commands.spawn(Camera2d);
    commands.spawn((
        TiledMap(asset_server.load("finite.tmx")),
        // Restrict colliders to:
        // - objects named 'hitbox' or 'collision'
        // - tile colliders in a layer named 'collision'
        TiledPhysicsSettings::&lt;TiledPhysicsAvianBackend&gt; {
            objects_filter: TiledFilter::Names(vec!["hitbox".into(), "collision".into()]),
            tiles_layer_filter: TiledFilter::Names(vec!["collision".into()]),
            ..default()
        },
    ));
}
<span class="boring">}</span></code></pre></pre>
<hr />
<h2 id="colliders-aggregation"><a class="header" href="#colliders-aggregation">Colliders Aggregation</a></h2>
<p>Tiled uses simple shapes (rectangles, ellipses, polygons) to define colliders.<br />
To reduce the number of physics colliders and improve performance, <code>bevy_ecs_tiled</code> tries to merge these simple shape colliders into a single complex one whenever possible.</p>
<ul>
<li><strong>Tiles:</strong> Merging is actually performed at the tilemap level.<br />
Eventhough you can use several shapes to define a tile's collider, these shape will be merged into a single collider and all tile colliders for a given tilemap will also be merged together.<br />
The collider entity is spawned at the tilemap level.</li>
<li><strong>Regular objects:</strong> If an object references a tile, it will inherit that tile's collider and if the tile has several shapes, they will be merged.<br />
The collider entity is spawned at the object level and each object always gets its own collider.</li>
</ul>
<blockquote>
<p><strong>Note:</strong><br />
Both <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/avian/enum.TiledPhysicsAvianBackend.html"><code>TiledPhysicsAvianBackend</code></a> and <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/rapier/enum.TiledPhysicsRapierBackend.html"><code>TiledPhysicsRapierBackend</code></a> provide several strategies to aggregate colliders. You can see their respective documentation for more information.</p>
</blockquote>
<hr />
<h2 id="custom-physics-backends"><a class="header" href="#custom-physics-backends">Custom Physics Backends</a></h2>
<p>For advanced use cases, you can implement your own physics backend.<br />
Just create a struct that implements the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/trait.TiledPhysicsBackend.html"><code>TiledPhysicsBackend</code></a> trait (i.e., provide a <code>spawn_colliders</code> function), and use it when registering the <code>TiledPhysicsPlugin&lt;T&gt;</code> plugin.</p>
<p>See <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/main/examples/physics_custom_backend.rs">this example</a> for more information.</p>
<hr />
<h2 id="physics-events"><a class="header" href="#physics-events">Physics Events</a></h2>
<p>When a collider entity is spawned, a <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/collider/struct.ColliderCreated.html"><code>TiledEvent&lt;ColliderCreated&gt;</code></a> event is sent.
It contains information about the origin of the collider.</p>
<p>This can be useful to add custom components to your colliders.<br />
For instance, with Avian:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use avian2d::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn startup(mut commands: Commands, asset_server: Res&lt;AssetServer&gt;) {
    commands.spawn(Camera2d);
    commands.spawn(
        TiledMap(asset_server.load("map.tmx"))
            .observe(
                |trigger: Trigger&lt;TiledEvent&lt;ColliderCreated&gt;&gt;, mut commands: Commands| {
                    // Automatically add a RigidBody::Static component to colliders created from Tiled objects
                    if trigger.event().event != TiledCollider::TilesLayer {
                        return;
                    }
                    // Add a RigidBody::Static component to the collider entity
                    commands
                        .entity(trigger.event().target)
                        .insert(RigidBody::Static);
                },
            ),
    );
}
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-tiled-custom-properties"><a class="header" href="#using-tiled-custom-properties">Using Tiled Custom Properties</a></h1>
<p>Tiled allows you to add "custom properties" to various items such as layers, tiles, objects, or maps.</p>
<p>These custom properties can be:</p>
<ul>
<li><strong>Standard types:</strong> string, integer, float, color, etc.</li>
<li><strong>Custom types:</strong> your own structures with sub-properties (which can themselves be standard or custom types)</li>
</ul>
<p>With <code>bevy_ecs_tiled</code>, you can load these custom properties into your game and access them as regular Bevy <code>Component</code> or <code>Resource</code>.<br />
This means you can define game logic directly in the Tiled editor and use it seamlessly in your Bevy game.</p>
<p>For example, you could:</p>
<ul>
<li>Associate a "movement cost" with a tile type</li>
<li>Create an object representing your player or an enemy</li>
<li>Add a generic "trigger zone" (e.g., damaging zone, victory zone)</li>
<li>...or anything else your game needs!</li>
</ul>
<hr />
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The user properties mechanism relies on Bevy's reflection system.</p>
<p>To use custom properties from Tiled in your game, you need to:</p>
<ol>
<li><strong>Enable the <code>user_properties</code> feature</strong> in your local <code>Cargo.toml</code> file.</li>
<li><strong>Declare your custom types</strong> in Rust and make them reflectable.</li>
<li><strong>Run your game once</strong> to export these types as a <code>.json</code> file, readable by Tiled.</li>
<li><strong>Import this <code>.json</code> file</strong> into the Tiled editor to make your types available as custom properties.</li>
</ol>
<p>Once this is done, you can use your types directly in Tiled. When you load your map, the corresponding <code>Component</code> or <code>Resource</code> will be automatically inserted into your Bevy world.</p>
<p>For a quick demonstration, see the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/main/examples/properties_basic.rs">dedicated example</a>.</p>
<hr />
<h2 id="enabling-the-feature"><a class="header" href="#enabling-the-feature">Enabling the feature</a></h2>
<p>Update your local <code>Cargo.toml</code> file to enable the <code>user_properties</code> feature:</p>
<pre><code class="language-toml">[dependencies]
bevy = "0.16"
bevy_ecs_tiled = { version = "0.9", features = ["user_properties"] }
</code></pre>
<blockquote>
<p><strong>Note:</strong><br />
You may need to adjust <code>bevy</code> and <code>bevy_ecs_tiled</code> versions.</p>
</blockquote>
<hr />
<h2 id="declaring-types-for-custom-properties"><a class="header" href="#declaring-types-for-custom-properties">Declaring Types for Custom Properties</a></h2>
<p>Each Tiled map, layer, tile, or object is represented by a Bevy <code>Entity</code>.<br />
If you want to add custom properties to them, these properties should be a <code>Component</code>.</p>
<p>To make your custom types usable in Tiled, they must be "reflectable":</p>
<ul>
<li>Derive the <code>Reflect</code> trait for your type.</li>
<li>Register your type with Bevy.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;

// Declare a component and make it reflectable
#[derive(Component, Reflect, Default)]
#[reflect(Component, Default)]
struct BiomeInfos {
    block_line_of_sight: bool,
    ty: BiomeType,
}

// Any sub-type must also be reflectable, but does not need to be a Component
#[derive(Default, Reflect)]
#[reflect(Default)]
enum BiomeType {
    #[default]
    Unknown,
    Forest,
    Plain,
    Mountain,
    Desert,
}

// Register your top-level struct in the Bevy registry
fn main() {
    App::new()
        .register_type::&lt;BiomeInfos&gt;();
}</code></pre></pre>
<p><strong>Tip:</strong><br />
Deriving <code>Default</code> is useful: you don't have to fill all fields in Tiled; missing fields will use the type's default value.</p>
<hr />
<h2 id="importing-custom-properties-into-tiled"><a class="header" href="#importing-custom-properties-into-tiled">Importing Custom Properties into Tiled</a></h2>
<p>Before you can add custom properties in Tiled, you need to export them from your app and import them into Tiled.</p>
<p>When running with the <code>user_properties</code> feature, your app will automatically produce a <code>.json</code> export of all types registered with Bevy.<br />
By default, this file is named <code>tiled_types_export.json</code> and is created in your workspace root.<br />
You can change the filename or disable export via <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/struct.TiledPluginConfig.html"><code>TiledPluginConfig</code></a>.</p>
<p>To import this file in Tiled:</p>
<ol>
<li>In Tiled, go to <strong>View → Custom Types Editor</strong><br />
<img src="guides/images/properties_view-types.png" alt="view-custom-types" /></li>
<li>Click the <strong>Import</strong> button and select your <code>.json</code> file<br />
<img src="guides/images/properties_import-types.png" alt="import-custom-types" /></li>
<li>You will now see all custom types imported from your application<br />
<img src="guides/images/properties_custom-type.png" alt="view-custom-types" /></li>
</ol>
<hr />
<h2 id="adding-custom-properties-in-tiled"><a class="header" href="#adding-custom-properties-in-tiled">Adding Custom Properties in Tiled</a></h2>
<p>Once imported, you can add custom properties to your map:</p>
<ol>
<li>Select the element (map, layer, object, etc.) you want to add a property to.</li>
<li>In the "Custom Properties" panel, right-click and select <strong>Add Property</strong><br />
<img src="guides/images/properties_add-property.png" alt="add-property" /></li>
<li>Choose the type you want to add and give it a name.</li>
<li>For example, add the <code>BiomeInfos</code> type from the earlier example:<br />
<img src="guides/images/properties_biome-infos.png" alt="biome-infos" /></li>
<li>Set the values as needed for this element.</li>
</ol>
<p>When you load the map, the corresponding Bevy entity will have the appropriate <code>Component</code> with the values you set.</p>
<blockquote>
<p><strong>Note:</strong><br />
Only add properties imported from Bevy. Properties created only in Tiled (ie. not exported from your app) will not be loaded in Bevy.
You can also control which properties are exported from Bevy via <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/struct.TiledPluginConfig.html"><code>TiledPluginConfig</code></a></p>
</blockquote>
<hr />
<h2 id="special-considerations"><a class="header" href="#special-considerations">Special Considerations</a></h2>
<ul>
<li>You can add custom properties to objects, layers, or the map itself.<br />
To add properties to tiles, edit the tileset directly.<br />
We currently do not support adding properties to the tileset itself.</li>
<li>For more on adding custom properties, see the <a href="https://doc.mapeditor.org/en/stable/manual/custom-properties/">official Tiled documentation</a>.</li>
<li>You can also add <code>Resource</code>s to your map.<br />
Since resources are global and not attached to a specific entity, they are only supported as map-level properties.<br />
If you add a resource to another Tiled element, it will be ignored.</li>
</ul>
<hr />
<p>With this workflow, you can design your game data visually in Tiled and have it automatically reflected in your Bevy game.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debug-your-project"><a class="header" href="#debug-your-project">Debug your project</a></h1>
<h2 id="logging"><a class="header" href="#logging">Logging</a></h2>
<p>Bevy uses the <code>tracing</code> crate for logging, which is very powerful for debugging and profiling.<br />
You can find more information in the <a href="https://docs.rs/tracing/">official documentation</a>.</p>
<p>To get detailed information about what's happening in your app, set the <code>RUST_LOG</code> environment variable to <code>trace</code>:</p>
<pre><code class="language-sh">RUST_LOG=trace cargo run
</code></pre>
<p>This will show all logs at the <code>trace</code> level, but it can be very verbose.<br />
To filter logs and only display information from <code>bevy_ecs_tiled</code>, use:</p>
<pre><code class="language-sh">RUST_LOG=bevy_ecs_tiled=trace cargo run
</code></pre>
<p>This will only display logs from the <code>bevy_ecs_tiled</code> crate at the <code>trace</code> level.</p>
<hr />
<h2 id="bevy_ecs_tiled-debug-plugins"><a class="header" href="#bevy_ecs_tiled-debug-plugins"><code>bevy_ecs_tiled</code> Debug Plugins</a></h2>
<p>When the <code>debug</code> feature is enabled, <code>bevy_ecs_tiled</code> provides several debug plugins to help visualize and inspect your maps.</p>
<p>You can enable all debug plugins at once by adding the <code>TiledDebugPluginGroup</code> to your app:</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn main() {
    App::new()
        .add_plugins(TiledDebugPluginGroup)
        .run();
}</code></pre></pre>
<p>Or add them individually as needed:</p>
<ul>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/debug/objects/index.html"><code>TiledDebugObjectsPlugin</code></a>: Displays an <code>arrow_2d</code> and a polyline outline <code>Gizmos</code> at each Tiled object's position and shape.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/debug/tiles/index.html"><code>TiledDebugTilesPlugin</code></a>: Shows the <code>bevy_ecs_tilemap</code> tile index (<code>TilePos</code>) above each tile.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/debug/world_chunk/index.html"><code>TiledDebugWorldChunkPlugin</code></a>: Draws a <code>Gizmos</code> rectangle for each map boundary and world render chunk.</li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/debug/axis/index.html"><code>TiledDebugAxisPlugin</code></a>: Displays a <code>Gizmos</code> axes marker at the world origin.</li>
</ul>
<p>For more details, see the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/debug/index.html">API reference</a>.</p>
<hr />
<h2 id="third-party-debugging-tools"><a class="header" href="#third-party-debugging-tools">Third-Party Debugging Tools</a></h2>
<h3 id="bevy-inspector-egui"><a class="header" href="#bevy-inspector-egui"><code>bevy-inspector-egui</code></a></h3>
<p>This plugin is highly recommended for debugging and inspecting your game world.</p>
<p>Add the dependency to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
bevy-inspector-egui = "0.30"
</code></pre>
<p>Then add the <code>WorldInspectorPlugin</code> to your application:</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_inspector_egui::quick::WorldInspectorPlugin;

fn main() {
    App::new()
        .add_plugins(DefaultPlugins)
        .add_plugins(EguiPlugin { enable_multipass_for_primary_context: true })
        .add_plugins(WorldInspectorPlugin::new())
        .run();
}</code></pre></pre>
<p>Now, you can browse and edit components from all entities spawned in your game in real time.</p>
<p>More information is available on the <a href="https://github.com/jakobhellermann/bevy-inspector-egui">project's GitHub page</a>.</p>
<hr />
<h3 id="physics-plugins"><a class="header" href="#physics-plugins">Physics Plugins</a></h3>
<p>Both Avian and Rapier provide their own debug visualization plugins, which are invaluable when working with colliders and physics.</p>
<p><strong>Avian Physics Debugging:</strong></p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use avian2d::prelude::*;

fn main() {
    App::new()
        // Add Avian regular plugin
        .add_plugins(PhysicsPlugins::default().with_length_unit(100.0))
        // Add Avian debug plugin
        .add_plugins(PhysicsDebugPlugin::default())
        .run();
}</code></pre></pre>
<p><strong>Rapier Physics Debugging:</strong></p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_rapier2d::prelude::*;

fn main() {
    App::new()
        // Add Rapier regular plugin
        .add_plugins(RapierPhysicsPlugin::&lt;NoUserData&gt;::pixels_per_meter(100.0))
        // Add Rapier debug plugin
        .add_plugins(RapierDebugRenderPlugin::default())
        .run();
}</code></pre></pre>
<blockquote>
<p><strong>Note:</strong><br />
For Rapier, you must enable either the <code>debug-render-2d</code> feature on the <code>bevy_rapier2d</code> crate or the <code>rapier_debug</code> feature on <code>bevy_ecs_tiled</code>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="migration-to-bevy_ecs_tiled-v09"><a class="header" href="#migration-to-bevy_ecs_tiled-v09">Migration to <code>bevy_ecs_tiled</code> v0.9</a></h1>
<p>This guide outlines the steps required to migrate your project to version <code>0.9</code> of <code>bevy_ecs_tiled</code>.</p>
<h2 id="main-changes"><a class="header" href="#main-changes">Main Changes</a></h2>
<ul>
<li><strong>Improved Isometric Map Support:</strong><br />
Isometric maps are now much better supported, including correct physics collider shapes and placement.</li>
<li><strong>Accurate Physics Colliders for Isometric Maps:</strong><br />
Physics colliders are now generated with the correct geometry and position for isometric maps.</li>
<li><strong>Clear Distinction Between <code>grid_size</code> and <code>tile_size</code>:</strong><br />
Previously, <code>tile_size</code> (the actual size of a tile) and <code>grid_size</code> (the space a tile occupies on the grid) were treated as equivalent. This is not always true, especially for isometric maps. The API now enforces a clear distinction.</li>
<li><strong>API Renaming for Clarity:</strong><br />
Several functions and methods have been renamed to improve clarity and expressiveness.</li>
</ul>
<h2 id="migration-steps"><a class="header" href="#migration-steps">Migration steps</a></h2>
<ol>
<li>
<p><strong>Update the dependency in <code>Cargo.toml</code></strong>:</p>
<pre><code class="language-toml">bevy_ecs_tiled = "0.9"
</code></pre>
</li>
<li>
<p><strong>Adjust function usage</strong>:</p>
</li>
</ol>
<ul>
<li>
<p><strong>Removed:</strong><br />
<code>tile_size_from_grid_size()</code> has been removed.<br />
<em>Reason:</em> Avoids confusion between <code>tile_size</code> and <code>grid_size</code>.</p>
<p><code>tile_size_from_map()</code> has been removed.<br />
<em>Reason:</em> You should use <code>TiledMapAsset::largest_tile_size</code> instead.</p>
</li>
<li>
<p><strong>Added:</strong><br />
A new <code>tile_size()</code> helper function is available to retrieve the <code>tile_size</code> from a <code>Tile</code>.</p>
</li>
<li>
<p><strong>Changed:</strong></p>
<ul>
<li><code>TiledMapAsset::world_space_from_tiled_position()</code> is now private to the crate.<br />
<em>Reason:</em> This is a low-level function and should not be used directly.</li>
<li><code>TiledMapAsset::object_world_position()</code> → <strong>Renamed to</strong> <code>TiledMapAsset::object_relative_position()</code><br />
<em>Signature remains the same.</em></li>
<li><code>TiledMapAsset::tile_world_position()</code> → <strong>Renamed to</strong> <code>TiledMapAsset::tile_relative_position()</code><br />
<em>Now takes an extra <code>TilemapTileSize</code> argument instead of relying on the map's <code>TilemapGridSize</code>.</em></li>
</ul>
</li>
<li>
<p><strong>Updated Geometry Methods:</strong><br />
The following methods on <code>TiledObject</code> now take 4 additional arguments to properly handle isometric maps:</p>
<ul>
<li><code>center()</code></li>
<li><code>vertices()</code></li>
<li><code>line_string()</code></li>
<li><code>polygon()</code></li>
</ul>
</li>
</ul>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<ul>
<li><a href="migrations/../index.html">Main documentation</a></li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/">API Reference</a></li>
<li><a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/examples/README.md">Examples</a></li>
<li><a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/CHANGELOG.md">Full CHANGELOG</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="migration-to-bevy_ecs_tiled-v08"><a class="header" href="#migration-to-bevy_ecs_tiled-v08">Migration to <code>bevy_ecs_tiled</code> v0.8</a></h1>
<p>This guide outlines the steps required to migrate your project to version <code>0.8</code> of <code>bevy_ecs_tiled</code>.</p>
<h2 id="main-changes-1"><a class="header" href="#main-changes-1">Main Changes</a></h2>
<ul>
<li><strong>Improved <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/"><code>TiledEvent</code></a> API</strong>: Provides an unified way to handle events and access underlying Tiled data.</li>
<li><strong>Attach shape information to <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/object/enum.TiledObject.html"><code>TiledObject</code></a></strong>: Direct access to Tiled objects shape information through ECS.</li>
<li><strong>Reworked physics colliders spawning</strong>: Integrate with the <a href="https://github.com/georust/geo"><code>geo</code></a> crate to define and aggregate colliders together.</li>
<li><strong>Reworked name filter API</strong>: The filter API have been extended to use <a href="https://docs.rs/regex/latest/regex/"><code>regex</code></a> and is now also used for selecting which types are exported as Tiled custom properties.</li>
<li><strong>Simplify <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/storage/struct.TiledMapStorage.html"><code>TiledMapStorage</code></a> usage</strong>: Add helpers functions to the <code>TiledMapStorage</code> component so it's easier to work with.</li>
<li><strong>Explicit <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/sets/index.html"><code>SystemSet</code></a></strong>: Allow precise systems ordering for user applications.</li>
<li><strong>Rationalize naming</strong>: Several types or functions have been renamed to better reflect what they actually do.</li>
<li><strong>Source code re-organization</strong>: Several files have been moved around or renamed.</li>
</ul>
<h2 id="migration-steps-1"><a class="header" href="#migration-steps-1">Migration Steps</a></h2>
<ol>
<li>
<p><strong>Update the dependency in <code>Cargo.toml</code></strong>:</p>
<pre><code class="language-toml">bevy_ecs_tiled = "0.8"
</code></pre>
</li>
<li>
<p><strong>Adjust your types</strong>:</p>
<p>Some types have been renamed, without any functional change, or not much.</p>
<p>It should be safe to simply run a "search and replace" command, in the following order (make sure to match whole words):</p>
<div class="table-wrapper"><table><thead><tr><th>Old name</th><th>New name</th><th>Functional changes ?</th></tr></thead><tbody>
<tr><td><code>TiledMap</code></td><td><code>TiledMapAsset</code></td><td></td></tr>
<tr><td><code>TiledWorld</code></td><td><code>TiledWorldAsset</code></td><td></td></tr>
<tr><td><code>TiledMapHandle</code></td><td><code>TiledMap</code></td><td></td></tr>
<tr><td><code>TiledWorldHandle</code></td><td><code>TiledWorld</code></td><td></td></tr>
<tr><td><code>TiledMapPlugin</code></td><td><code>TiledPlugin</code></td><td></td></tr>
<tr><td><code>TiledColliderSpawnInfos</code></td><td></td><td>This one was actually removed</td></tr>
<tr><td><code>TiledMapMarker</code></td><td><code>TiledMap</code></td><td>This one was actually removed</td></tr>
<tr><td><code>TiledWorldMarker</code></td><td><code>TiledWorld</code></td><td>This one was actually removed</td></tr>
<tr><td><code>TiledMapLayer</code></td><td><code>TiledLayer</code></td><td><code>TiledLayer</code> now holds the layer kind</td></tr>
<tr><td><code>TiledMapTileLayer</code></td><td><code>TiledLayer</code></td><td><code>TiledLayer</code> now holds the layer kind</td></tr>
<tr><td><code>TiledMapObjectLayer</code></td><td><code>TiledLayer</code></td><td><code>TiledLayer</code> now holds the layer kind</td></tr>
<tr><td><code>TiledMapGroupLayer</code></td><td><code>TiledLayer</code></td><td><code>TiledLayer</code> now holds the layer kind</td></tr>
<tr><td><code>TiledMapImageLayer</code></td><td><code>TiledLayer</code></td><td><code>TiledLayer</code> now holds the layer kind</td></tr>
<tr><td><code>TiledMapTileLayerForTileset</code></td><td><code>TiledTilemap</code></td><td></td></tr>
<tr><td><code>TiledMapTile</code></td><td><code>TiledTile</code></td><td></td></tr>
<tr><td><code>TiledMapObject</code></td><td><code>TiledObject</code></td><td></td></tr>
<tr><td><code>TiledMapImage</code></td><td><code>TiledImage</code></td><td></td></tr>
</tbody></table>
</div></li>
<li>
<p><strong>Adjust your functions</strong>:</p>
<p>Some functions have been renamed, without changing their behaviour, or not much.</p>
<p>It should be safe to simply run a "search and replace" command:</p>
<div class="table-wrapper"><table><thead><tr><th>Old name</th><th>New name</th></tr></thead><tbody>
<tr><td><code>get_map_type</code></td><td><code>tilemap_type_from_map</code></td></tr>
<tr><td><code>get_grid_size</code></td><td><code>grid_size_from_map</code></td></tr>
<tr><td><code>get_tile_size</code></td><td><code>tile_size_from_map</code></td></tr>
<tr><td><code>tile_size_from_grid</code></td><td><code>tile_size_from_grid_size</code></td></tr>
</tbody></table>
</div>
<p>The following functions are now methods of the <code>TiledMapAsset</code> struct:</p>
<ul>
<li><code>for_each_tile</code></li>
<li><code>world_space_from_tiled_position</code> (renamed from <code>from_tiled_position_to_world_space</code>)</li>
</ul>
</li>
<li>
<p><strong>Adjust your imports</strong>:</p>
<p>Some modules or types have changed names or locations.
If you import types using their defining path you may need to adjust.</p>
<p>An easy way to get past this is to import the whole prelude: <code>bevy_ecs_tiled::prelude::*</code> or to use the type prelude path, such as <code>bevy_ecs_tiled::prelude::TiledPlugin</code>.</p>
</li>
<li>
<p><strong>Adjust <code>Event</code> API usage</strong></p>
<p>The event API has been reworked and now revolves around a generic <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/event/struct.TiledEvent.html"><code>TiledEvent&lt;E&gt;</code></a> structure.
This provides more context for each event, including the origin of each particular event <code>E</code> and helper methods to access Tiled data.</p>
<p>See the <a href="migrations/../design/map_events.html">dedicated guide on events</a> for details.</p>
</li>
<li>
<p><strong>Update custom physics backend</strong></p>
<p>Most of the work that was done in the physics backend is now done by the crate itself which should simplify any custom physics backend implementation.
As a result, the <code>spawn_colliders</code> function from the <code>TiledPhysicsBackend</code> trait have changed: you should refer to its <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/physics/backend/trait.TiledPhysicsBackend.html#tymethod.spawn_colliders">documentation</a> for more information.</p>
</li>
<li>
<p><strong>Update filter API usage</strong></p>
<p>The filter API used to revolve around two enums: <code>TiledName</code> for creating filters and <code>TiledNameFilter</code> for matching them.
It felt a bit cumbersome.<br />
Now, everything is done via the new <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/filter/enum.TiledFilter.html"><code>TiledFilter</code></a> enum for doing both operations and we added support for regular expresions using the <a href="https://docs.rs/regex/latest/regex/"><code>regex</code></a> crate.</p>
<p>We also added a new parameter to <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/struct.TiledPluginConfig.html"><code>TiledPluginConfig</code></a> to control which properties are exported from Bevy at startup.</p>
</li>
<li>
<p><strong>Adjust <code>TiledMapStorage</code> component usage</strong></p>
<p>Fields in <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/tiled/map/storage/struct.TiledMapStorage.html"><code>TiledMapStorage</code></a> are now private.
You should use the provided methods instead of accessing fields directly.</p>
</li>
</ol>
<h2 id="resources-1"><a class="header" href="#resources-1">Resources</a></h2>
<ul>
<li><a href="migrations/../index.html">Main documentation</a></li>
<li><a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/">API Reference</a></li>
<li><a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/examples/README.md">Examples</a></li>
<li><a href="https://github.com/adrien-bon/bevy_ecs_tiled/tree/main/CHANGELOG.md">Full CHANGELOG</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="from-v06x-to-v07x"><a class="header" href="#from-v06x-to-v07x">From v0.6.X to v0.7.X</a></h1>
<h2 id="overview-1"><a class="header" href="#overview-1">Overview</a></h2>
<p>Version 0.7 updates the crate for Bevy v0.16 and take advantage of the new <code>TilemapAnchor</code> component from <code>bevy_ecs_tilemap</code>.</p>
<h2 id="bevy-v016-update"><a class="header" href="#bevy-v016-update">Bevy v0.16 update</a></h2>
<p><a href="https://bevyengine.org/learn/migration-guides/0-15-to-0-16/">Bevy official migration guide</a></p>
<h2 id="tilemapanchor"><a class="header" href="#tilemapanchor"><code>TilemapAnchor</code></a></h2>
<p>The <code>TiledMapAnchor</code> component have been deprecated in favor of the <code>TilemapAnchor</code> component from <code>bevy_ecs_tilemap</code>.</p>
<p>This new enum contains more variants, as you can see in the <a href="https://docs.rs/bevy_ecs_tilemap/latest/bevy_ecs_tilemap/anchor/enum.TilemapAnchor.html">API reference</a>.</p>
<p>Before :</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    commands.spawn((
        TiledMapHandle(asset_server.load("map.tmx")),
        TiledMapAnchor::Center,
    ));
<span class="boring">}</span></code></pre></pre>
<p>After :</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    commands.spawn((
        TiledMapHandle(asset_server.load("map.tmx")),
        TilemapAnchor::Center,
    ));
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="from-v05x-to-v06x"><a class="header" href="#from-v05x-to-v06x">From v0.5.X to v0.6.X</a></h1>
<h2 id="overview-2"><a class="header" href="#overview-2">Overview</a></h2>
<p>Version 0.6 brings new features such as Tiled world support and tiles colliders aggregation (which should improve performances when working with physics), bugfixes (mostly for infinite maps) and a rework of the API to make it more user-friendly.</p>
<p>For instance, we now use entity-scoped observers for our loading events instead of global ones, so it's easier to work with several maps at the same time.</p>
<p>Code base have also been re-organized to better fit the new world feature, but it should not impact end-users.</p>
<h2 id="plugin-instanciation"><a class="header" href="#plugin-instanciation">Plugin instanciation</a></h2>
<p>You don't need to manually instanciate the <code>TilemapPlugin</code> from <code>bevy_ecs_tilemap</code>.
It is now automatically done when adding <code>TiledMapPlugin</code> to your application if not already done.</p>
<p>Before :</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;
use bevy_ecs_tilemap::prelude::*;

fn main() {
    App::new()
        // Main plugin from bevy_ecs_tilemap
        .add_plugins(TilemapPlugin)
        // Main plugin from bevy_ecs_tiled
        .add_plugins(TiledMapPlugin::default());
}</code></pre></pre>
<p>After :</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn main() {
    App::new()
        // Main plugin from bevy_ecs_tiled:
        // implicitely load bevy_ecs_tilemap main plugin
        .add_plugins(TiledMapPlugin::default());
}</code></pre></pre>
<h2 id="map-loading-events-1"><a class="header" href="#map-loading-events-1">Map loading events</a></h2>
<p>Map loading events have been heavily updated :</p>
<ul>
<li>Instead of using a single global observer, we now trigger an entity-scoped observer <strong>and</strong> send a regular event</li>
<li>Only use "safe" methods to retrieve data from events (no more <code>unwrap()</code> internally)</li>
<li>Store an <code>AssetId&lt;TiledMap&gt;</code> instead of a <code>Handle&lt;TiledMap&gt;</code> to acces Tiled map data, enforce the fact that we store a weak reference in the event and not a strong one.</li>
<li>Some fields from the events have been renamed</li>
</ul>
<p>Before :</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn main() {
    App::new()
        .add_plugins(TiledMapPlugin::default())
        .add_systems(Startup, startup)
        // Previously, we could only use a global observer
        .add_observer(|trigger: Trigger&lt;TiledMapCreated&gt;, map_asset: Res&lt;Assets&lt;TiledMap&gt;&gt;| {
            // Previously, the method to retrieve map data would panic in case of error
            let map = trigger.event().map(&amp;map_asset);
            info!("(observer) Loaded map: {:?}", map);
        });
}

fn startup(
  mut commands: Commands,
  asset_server: Res&lt;AssetServer&gt;
) {
    commands.spawn(TiledMapHandle(asset_server.load("map.tmx")));
}</code></pre></pre>
<p>After :</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn main() {
    App::new()
        .add_plugins(TiledMapPlugin::default())
        .add_systems(Startup, startup)
        .add_systems(Update, read_map_events);
}

fn startup(mut commands: Commands, asset_server: Res&lt;AssetServer&gt;) {
    commands
        .spawn(TiledMapHandle(asset_server.load("map.tmx")))
        // Now, you can use an entity-scoped observer
        .observe(
            |trigger: Trigger&lt;TiledMapCreated&gt;, map_asset: Res&lt;Assets&lt;TiledMap&gt;&gt;| {
                // Now, this method return an Option&lt;T&gt; and don't panic in case of error
                if let Some(map) = trigger.event().get_map(&amp;map_asset) {
                    info!("(observer) Loaded map: {:?}", map);
                }
            },
        );
}

// Or a regular event
fn read_map_events(mut map_events: EventReader&lt;TiledMapCreated&gt;, map_asset: Res&lt;Assets&lt;TiledMap&gt;&gt;) {
    for event in map_events.read() {
        if let Some(map) = event.get_map(&amp;map_asset) {
            info!("(event) Loaded map: {:?}", map);
        }
    }
}</code></pre></pre>
<p>For more detailled informations, you should have a look to <a href="https://github.com/adrien-bon/bevy_ecs_tiled/blob/main/examples/map_events.rs">the dedicated example</a> or <a href="migrations/../design/map_events.html">the guide</a>.</p>
<h2 id="physics"><a class="header" href="#physics">Physics</a></h2>
<p>To get tile colliders aggregation working, we had to rework a bit the physics API :</p>
<ul>
<li>function <code>TiledPhysicsBackend::spawn_collider()</code> can now spawn several colliders per call. To reflect that it now returns a <code>Vec&lt;TiledColliderSpawnInfos&gt;</code> instead of an <code>Option&lt;TiledColliderSpawnInfos&gt;</code>. Also, it now takes a <code>TiledNameFilter</code> as input parameter to filter out unwanted objects</li>
<li>remove the <code>TiledColliderCreated</code> events which added some complexity but did not have actual usage</li>
<li>rename <code>TiledColliderSourceType</code> to <code>TiledCollider</code> and remove the <code>Tile</code> variant in favor of the new <code>TilesLayer</code></li>
<li><code>TiledPhysicsBackend</code> now requires to implement the <code>Clone</code>, <code>Reflect</code> and <code>Debug</code> traits</li>
<li>rename Rename <code>ObjectNameFilter</code> to <code>TiledNameFilter</code> since we also use it for layer name</li>
</ul>
<h2 id="schedules"><a class="header" href="#schedules">Schedules</a></h2>
<p>To prevent potential Bevy error <a href="https://bevyengine.org/learn/errors/b0003/">B0003</a> we changed a bit how our systems are scheduled.</p>
<p>Before, everything was done in the <code>Update</code> schedule.
Now, we schedule systems that spawn entities in the <code>PreUpdate</code> schedule and systems that could despawn entities in the <code>PostUpdate</code> schedule.</p>
<h2 id="misc-api-changes"><a class="header" href="#misc-api-changes">Misc API changes</a></h2>
<ul>
<li>rename <code>TiledIdStorage</code> component to <code>TiledMapStorage</code> so we are consistent with the new world API</li>
<li>rename <code>ObjectNameFilter</code> type to <code>TiledNameFilter</code> since we also use it for layer names</li>
<li>rename <code>from_tiled_coords_to_bevy</code> function to <code>from_tiled_position_to_world_space</code></li>
<li>split <code>TiledMapSettings</code> component in two: <code>TiledMapAnchor</code> and <code>TiledMapLayerZOffset</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="from-v04x-to-v05x"><a class="header" href="#from-v04x-to-v05x">From v0.4.X to v0.5.X</a></h1>
<h2 id="overview-3"><a class="header" href="#overview-3">Overview</a></h2>
<p>Version 0.5 updates the crate for Bevy v0.15.
It notably takes advantage of the new <code>required_component</code> feature to simplify the crate API.</p>
<p>Also, this version provide some fixes related to user properties.
If you are using them, you should reload your export file.</p>
<h2 id="bevy-v015-update"><a class="header" href="#bevy-v015-update">Bevy v0.15 update</a></h2>
<p><a href="https://bevyengine.org/learn/migration-guides/0-14-to-0-15/">Bevy official migration guide</a></p>
<h2 id="misc-changes"><a class="header" href="#misc-changes">Misc changes</a></h2>
<h3 id="tiledmapsettings-update"><a class="header" href="#tiledmapsettings-update"><code>TiledMapSettings</code> update</a></h3>
<p><code>map_initial_transform</code> and <code>map_initial_visibility</code> have been removed from <code>TiledMapSettings</code>.</p>
<p>If you want to tweak your map positioning or visibility, you should instead directly insert corresponding <code>Transform</code> or <code>Visibility</code> components on the map entity.</p>
<p>Before:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    let map_handle: Handle&lt;TiledMap&gt; = asset_server.load("map.tmx");
    commands.spawn((
        TiledMapHandle(map_handle),
        TiledMapSettings {
            map_initial_transform: Transform::from_xyz(150., 100., 0.),
            map_initial_visibility: Visibility::Hidden,
            ..Default::default()
        },
    ));
<span class="boring">}</span></code></pre></pre>
<p>After:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    let map_handle: Handle&lt;TiledMap&gt; = asset_server.load("map.tmx");
    commands.spawn((
        TiledMapHandle(map_handle),
        Transform::from_xyz(150., 100., 0.),
        Visibility::Hidden,
    ));
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="from-v03x-to-v04x"><a class="header" href="#from-v03x-to-v04x">From v0.3.X to v0.4.X</a></h1>
<h2 id="overview-4"><a class="header" href="#overview-4">Overview</a></h2>
<p>Version 0.4 was initially motivated by an update to the way we handle user properties but ended as a major overhaul of the plugin to provide a better API and to give more control to the user.</p>
<h2 id="plugin-instanciation-1"><a class="header" href="#plugin-instanciation-1">Plugin instanciation</a></h2>
<p>The plugin now has an associated configuration, which you need to provide when you add it to your application.</p>
<p>The easiest way is to use the default configuration value :</p>
<pre><pre class="playground"><code class="language-rust no_run">use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn main() {
    App::new()
        // You still need the bevy_ecs_tilemap plugin
        .add_plugins(TilemapPlugin)
        // And now, you have to provide a configuration for bevy_ecs_tiled plugin
        .add_plugins(TiledMapPlugin::default())
        .run();
}</code></pre></pre>
<p>The plugin configuration is described in the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/struct.TiledMapPluginConfig.html">API reference</a></p>
<h2 id="tiled-map-spawn-and-configuration"><a class="header" href="#tiled-map-spawn-and-configuration">Tiled map spawn and configuration</a></h2>
<p>The plugin entry point, ie. the <code>TiledMapBundle</code> bundle is gone.
It was cumbersome and did not allow for a proper separation of concerns (for instance, for physics).</p>
<p>Also, the <code>Handle&lt;TiledMap&gt;</code> type is not a Bevy component anymore.
It was done in order to anticipate expected changes in Bevy where <code>Handle&lt;T&gt;</code> won't be able to derive the <code>Component</code> trait anymore.</p>
<p>Anyway, the new way to spawn a map is now easier: you just have to spawn a <code>TiledMapHandle</code> referencing your .TMX file asset:</p>
<pre><pre class="playground"><code class="language-rust no_run"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bevy::prelude::*;
use bevy_ecs_tiled::prelude::*;

fn startup(mut commands: Commands, asset_server: Res&lt;AssetServer&gt;) {
    // Load the map: ensure any tile / tileset paths are relative to assets/ folder
    let map_handle: Handle&lt;TiledMap&gt; = asset_server.load("map.tmx");

    // Spawn the map with default options
    commands.spawn(TiledMapHandle(map_handle));
}
<span class="boring">}</span></code></pre></pre>
<p>You can customize various settings about how to load the map by inserting the <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/components/struct.TiledMapSettings.html"><code>TiledMapSettings</code></a> component on the map entity.</p>
<h2 id="tiled-user-properties"><a class="header" href="#tiled-user-properties">Tiled user properties</a></h2>
<p>Before this change, you had to define your custom types both in Tiled and in your rust code.
It was not user-friendly and error-prone.</p>
<p>Now, we take advantage of <code>bevy_reflect</code> to generate a file containing all the types known to Bevy.
This file can be imported in Tiled so you can use these types directly in the editor.</p>
<p>Migrating from the old implementation should be straight-forward.</p>
<p>First, you need need to update your custom types so they actually implement the <code>Reflect</code> trait :</p>
<ul>
<li>remove <code>#[derive(TiledObject)]</code>, <code>#[derive(TiledCustomTile)]</code>, <code>#[derive(TiledClass)]</code> and <code>#[derive(TiledEnum)]</code> derived traits. Make sure to also remove associated attributes.</li>
<li>add <code>#[derive(Reflect)]</code> derive trait on the types you want to use in Tiled.</li>
<li>make sure your components have the <code>#[reflect(Component)]</code> attribute</li>
</ul>
<p>Then, in your main / in your plugin setup, you then need to register your types with Bevy :</p>
<ul>
<li>replace calls to <code>register_tiled_object::&lt;T&gt;()</code> with calls to <code>register_type::&lt;T&gt;()</code>.</li>
<li>replace calls to <code>register_tiled_custom_tile::&lt;T&gt;()</code> with calls to <code>register_type::&lt;T&gt;()</code>.</li>
</ul>
<p>The final step is to actually generate the types import file (run your game once) and import the types to Tiled.
Note that you may have to update your map / your tilesets to use the new types you just imported.</p>
<p><a href="migrations/../guides/properties.html"><strong>A dedicated guide about how to setup user properties is available in this book</strong></a>.</p>
<h2 id="tiled-physics"><a class="header" href="#tiled-physics">Tiled physics</a></h2>
<p>Eventhough functionnalities around physics did not change much, the internals have been completely reworked and the API was updated a bit.</p>
<p>Notably, now you need to instanciate another plugin and specify which physics backend you want to use.
<a href="migrations/../guides/physics.html">The physics section of the book should get you through</a>.</p>
<h2 id="map-events"><a class="header" href="#map-events">Map events</a></h2>
<p>This is a new feature of this version which gives more control to the user over what he wants to do with a Tiled map.
<a href="migrations/../design/map_events.html">More information in the dedicated section</a></p>
<h2 id="misc-changes-1"><a class="header" href="#misc-changes-1">Misc changes</a></h2>
<h3 id="enum-mappositioning"><a class="header" href="#enum-mappositioning"><code>enum MapPositioning</code></a></h3>
<p>Both enum name and fields name have been updated to better reflect what they actually do.
You should now use the new <a href="https://docs.rs/bevy_ecs_tiled/latest/bevy_ecs_tiled/components/enum.LayerPositioning.html"><code>LayerPositioning</code></a> enum.</p>
<h3 id="fn-from_isometric_coords_to_bevy"><a class="header" href="#fn-from_isometric_coords_to_bevy"><code>fn from_isometric_coords_to_bevy()</code></a></h3>
<p>Parameters <code>tiled_position: Vec2</code> and <code>iso_coords: IsoCoordSystem</code> have been swapped for better consistency with other utility functions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="useful-links"><a class="header" href="#useful-links">Useful links</a></h1>
<p>Here is an unordered list of useful resources that may help when working on a 2D tile-base game.</p>
<p>Feel free to suggest any other link!</p>
<h2 id="notable-crates"><a class="header" href="#notable-crates">Notable crates</a></h2>
<ul>
<li><a href="https://github.com/bevyengine/bevy"><code>bevy</code></a>: the Bevy engine</li>
<li><a href="https://github.com/StarArawn/bevy_ecs_tilemap"><code>bevy_ecs_tilemap</code></a>: the crate we use for rendering our tiles</li>
<li><a href="https://github.com/mapeditor/rs-tiled"><code>rs-tiled</code></a>: official Tiled rust bindings</li>
<li><a href="https://github.com/Trouv/bevy_ecs_ldtk"><code>bevy_ecs_ldtk</code></a>: an equivalent of <code>bevy_ecs_tiled</code> but for the <a href="https://ldtk.io/">LDTK</a> map editor</li>
<li><a href="https://github.com/ManevilleF/hexx"><code>hexx</code></a>: an hexagonal tools lib for stuff like path-finding or hex coordinates manipulation</li>
<li><a href="https://github.com/aevyrie/bevy_mod_picking/"><code>bevy_mod_picking</code></a>: a flexible set of plugins that add picking functionality to your bevy app</li>
<li><a href="https://github.com/zacryol/bevy_picking_tilemap"><code>bevy_picking_tilemap</code></a>: provides a <a href="https://github.com/aevyrie/bevy_mod_picking/"><code>bevy_mod_picking</code></a> backend to add integration with <a href="https://github.com/StarArawn/bevy_ecs_tilemap"><code>bevy_ecs_tilemap</code></a>, enabling individual Tile entities to receive the picking events</li>
<li><a href="https://github.com/Jondolf/avian"><code>avian</code></a>: Avian physic backend</li>
<li><a href="https://github.com/dimforge/bevy_rapier"><code>bevy_rapier</code></a>: Rapier physic backend</li>
<li><a href="https://github.com/jtothethree/bevy_northstar"><code>bevy_northstar</code></a>: A 2D/3D pathfinding crate, with a concrete usage example with <code>bevy_ecs_tiled</code></li>
</ul>
<h2 id="notable-resources"><a class="header" href="#notable-resources">Notable resources</a></h2>
<ul>
<li><a href="https://bevyengine.org/">Bevy official website</a>: lots of examples and learning materials</li>
<li><a href="https://docs.rs/bevy/latest/bevy/">Bevy API reference</a></li>
<li><a href="https://bevy-cheatbook.github.io/">Unofficial Bevy Cheat Book</a>: one the best resource to learn Bevy</li>
<li><a href="https://www.mapeditor.org/">Tiled official website</a>: to get the latest Tiled version and read associated documentation</li>
<li><a href="https://www.redblobgames.com/">Red Blob Games</a>: collections of tutorials on various gamedev topics, especially the <a href="https://www.redblobgames.com/grids/hexagons/">hexagonal grids reference</a></li>
<li><a href="https://clintbellanger.net/articles/isometric_math/">Some maths regarding isometric tiles</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing"><a class="header" href="#contributing">Contributing</a></h1>
<p>Thank you for your interest in contributing to <code>bevy_ecs_tiled</code>!<br />
Whether you're fixing bugs, adding features, improving documentation, or helping other users, your contributions are greatly appreciated.</p>
<h2 id="where-to-start"><a class="header" href="#where-to-start">Where to Start</a></h2>
<p>If you're unsure where to begin, check out the <a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues">GitHub issues</a> page.<br />
You might find it helpful to look at issues:</p>
<ul>
<li><a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues?q=is%3Aopen+is%3Aissue+label%3Aenhancement">tagged with the <code>enhancement</code> label</a></li>
<li><a href="https://github.com/adrien-bon/bevy_ecs_tiled/issues?q=is%3Aopen+is%3Aissue+label%3Alimitation">tagged with the <code>limitation</code> label</a></li>
</ul>
<p>If you feel you can tackle one of these, please feel free to submit a PR!</p>
<p>Other valuable ways to contribute include:</p>
<ul>
<li>Helping other users by responding to issues or reviewing PRs</li>
<li>Reporting bugs or suggesting improvements by opening new issues</li>
<li>Contributing to dependencies, such as <a href="https://github.com/mapeditor/rs-tiled"><code>rs-tiled</code></a>, <a href="https://github.com/StarArawn/bevy_ecs_tilemap"><code>bevy_ecs_tilemap</code></a>, or other crates in the Bevy ecosystem (or Bevy itself!)</li>
</ul>
<h2 id="contribution-guidelines"><a class="header" href="#contribution-guidelines">Contribution Guidelines</a></h2>
<p>When submitting a pull request, please ensure that:</p>
<ul>
<li><strong>CI passes:</strong><br />
Run <code>./tools/ci_check.sh</code> locally to check formatting, linting, and tests.</li>
<li><strong>Documentation:</strong><br />
Add or update in-code documentation for any new features or changes.</li>
<li><strong>Changelog:</strong><br />
Update the <code>CHANGELOG.md</code> file with a description of your fix or feature.</li>
<li><strong>Examples:</strong><br />
If you add a new example:
<ul>
<li>Update <code>examples/README.md</code> with a description of your example.</li>
<li>Add your example to the workspace <code>Cargo.toml</code> (and specify any required features).</li>
</ul>
</li>
<li><strong>Assets:</strong><br />
If you add a new map, update <code>assets/README.md</code> with its characteristics.
If you add a new asset, update the "Assets credits" section of the main <code>README.md</code> and ensure you have the right to use it.</li>
</ul>
<p>If you're not sure about something, feel free to open a draft PR or ask questions in your issue or PR.</p>
<hr />
<p>Thanks in advance for helping make <code>bevy_ecs_tiled</code> better!</p>
<div style="break-before: page; page-break-before: always;"></div><meta http-equiv="Refresh" content="0; url='https://docs.rs/bevy_ecs_tiled/'" />
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
